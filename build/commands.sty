\usepackage{customizations} % Verwendung der benutzerdefinierten Anpassungen

% Erzeugt eine benutzerdefinierte Titelseite
\newcommand{\customtitlepage}[2]{ % #1: Logo, #2: Skalierung
    \begin{titlepage}
        {\fontfamily{phv}\selectfont % Setzt die Schriftart auf Helvetica
        \includepdf[pagecommand={\begin{tikzpicture}[remember picture, overlay]
            % Platzierung der Titelinformationen auf der Seite
            \node at ([xshift=0.2cm,yshift=6.68cm] current page.center) {\centering \textbf{\thetitle}};
            \node at ([xshift=0.188cm,yshift=2.36cm] current page.center) {\centering \papertype};
            \node at ([xshift=0.188cm,yshift=-2.53cm] current page.center) {\centering \theauthor};
            \node at ([xshift=0.188cm,yshift=-3.07cm] current page.center) {\centering Seminargruppe \semgroup};
            \node at ([xshift=0.188cm,yshift=-3.51cm] current page.center) {\centering Matrikelnr. \matnum};
            \node at ([xshift=0.188cm,yshift=-5.0cm] current page.center) {\centering am \thedate};
            \node[anchor=west] at ([xshift=-8.27cm,yshift=-9.36cm] current page.center) {\reviewer};
            \node at ([xshift=-6.3cm,yshift=12.4cm] current page.center) {\includegraphics[scale=#2]{#1}};
        \end{tikzpicture}}]{build/images/title.pdf} % Bindet die Titelbild-PDF ein
        }
    \end{titlepage}
    \clearpage
    \setcounter{page}{2} % Setzt die Seitennummerierung ab Seite 2 fort
}

% Erstellt ein Autorenreferat
\newcommand{\customauthorsabstract}{
    \section*{Autorenreferat}
    \reversedauthor:
    \newline
    \thetitle{\ -} \the\year{} - \pageref{LastPage} Bl.
    \newline
    \pubUniversity, \papertype, \the\year{}
    \newline
}

% Definition für Zitierstil mit Autor, Jahr und Seitenzahl
\newbibmacro*{cite:authoryear+page}{%
    \printnames{labelname} % Autor
    \setunit*{\addcomma\space} % Komma und Leerzeichen
    \printfield{year} % Jahr
    \setunit*{\addcomma\space} % Komma und Leerzeichen
    \printfield{postnote} % Seitenzahl (Fundstelle)
}

% Anpassung des Zitierbefehls für automatische Zitate
\DeclareCiteCommand{\autocite}
    {\booltrue{cbx:parens}} % Klammern aktivieren
    {\usebibmacro{citeindex}%
    \printtext[bibhyperref]{%
        (\usebibmacro{cite:authoryear+page})}} % Klammern um das gesamte Zitat
    {\multicitedelim}
    {}




% Definition für Gesetzeszitate mit Flag-Setzung
\newcommand{\lawcite}[2][]{%
    (#1 \citetitle{#2})%
    \nocite{#2}
}


% Erzeugt das Anlagenverzeichnis
\makeatletter
\newcommand{\listofattachments}{%
    \pagenumbering{gobble} % Deaktiviert die Seitennummerierung
    \begingroup
    \renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} % Entfernt die Punkte
    \setlength{\cftsecnumwidth}{3em} % Setzt die Breite der Nummerierung
    \setlength{\cftsecindent}{0em} % Setzt die Einrückung auf Null
    \section*{Anlagenverzeichnis} % Fügt eine Sektion für das Anlagenverzeichnis ein
    \addcontentsline{toc}{section}{Anlagenverzeichnis} % Fügt das Anlagenverzeichnis zum Inhaltsverzeichnis hinzu
    \@starttoc{att} % Startet das Anlagenverzeichnis
    \endgroup
}

% Fügt eine Anlage zum Anlagenverzeichnis hinzu
\newcommand{\attachmenttoc}[1]{%
    \addcontentsline{att}{section}{Anlage \theattachment: #1}
}
